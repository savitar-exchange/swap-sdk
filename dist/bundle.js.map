{"version":3,"sources":["webpack://Swap/webpack/universalModuleDefinition","webpack://Swap/webpack/bootstrap","webpack://Swap/./index.js","webpack://Swap/./src/index.js"],"names":["module","exports","require","DEFAULT_OPTS","type","locale","embedContainerId","iframeContainerClass","buttonId","payButtons","payButtonsStyle","config","LOCALES","fr","en","Widget","options","base_url","process","default_config","widgetStarted","widgetType","iframe","document","createElement","popup","injectStyle","injectButtonStyle","setupEvents","initEmbed","initModal","initButtons","callback","onReady","onExit","SwapWidgetError","styleSheet","innerText","globalStyles","head","appendChild","buttonStyle","id","noCookiesStyle","addEventListener","e","modalEvents","removeEventListener","self","event","element","target","tagName","attributes","value","checkIframeCookie","status","openModal","openPopup","initIframe","setAttribute","iframeStyle","body","popupWidth","popupHeight","src","email","email_editable","currency","amount","amount_currency","amount_editable","delivery_address","payment_type","order_type","broker_address","dualScreenLeft","window","screenLeft","undefined","screenX","dualScreenTop","screenTop","screenY","width","innerWidth","documentElement","clientWidth","screen","height","innerHeight","clientHeight","systemZoom","availWidth","left","top","opts","open","focus","container","rand","Math","round","random","noCookiesEvents","injectNoCookiesStyle","titleSpan","title","createTextNode","cookies_not_enabled","buttonContainer","button","innerHTML","className","embedContainer","getElementById","_noCookiesDisclaimer","buttonsEvents","buttons","querySelectorAll","forEach","length","getAttribute","text","pay","buy","currencyUnit","toUpperCase","amountUnit","textContent","pay_now","data","action","resetFrame","closeModalEvents","closeEvents","callbacksListeners","receiveMessage","origin","ifrm","remove","style","blue_1","params","Error","captureStackTrace","name"],"mappings":"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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Swap\"] = factory();\n\telse\n\t\troot[\"Swap\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./index.js\");\n","module.exports = require('./src/index.js')","\r\nconst DEFAULT_OPTS = {\r\n    type: 'modal',\r\n    locale: 'fr',\r\n    embedContainerId: 'swap-embed',\r\n    iframeContainerClass: 'swap-widget-container',\r\n    buttonId: 'swap-init',\r\n    payButtons: false,\r\n    payButtonsStyle: true,\r\n    config: {}\r\n}\r\n\r\nconst LOCALES = {\r\n    fr: {\r\n        'cookies_not_enabled': 'Les cookies ne sont pas activés, pour continuer veuillez cliquer sur le bouton ci-dessous',\r\n        'continue': 'Continuer',\r\n        'buy': 'Acheter',\r\n        'payer': 'Payer',\r\n        'in': 'en',\r\n        'pay_now': 'Acheter maintenant avec Swap'\r\n    },\r\n    en: {\r\n        'cookies_not_enabled': 'Cookies are not enabled, to continue click on the button below',\r\n        'continue': 'Continue',\r\n        'buy': 'Buy',\r\n        'pay': 'Pay',\r\n        'in': 'in',\r\n        'pay_now':'Pay now with Swap'\r\n    }\r\n}\r\n\r\nexport class Widget {\r\n\tconstructor(options = DEFAULT_OPTS) {\r\n        options = {\r\n            ...DEFAULT_OPTS,\r\n            ...options\r\n        }\r\n\r\n\t\tthis.base_url = process.env.SWAP_URL+'/widget';\r\n\r\n        this.config = {...options.config}\r\n        this.default_config = {...options.config}\r\n        this.widgetStarted = false\r\n\r\n        this.widgetType = options.type\r\n        this.locale = options.locale\r\n        this.iframe = document.createElement('iframe')\r\n        this.iframeContainerClass = options.iframeContainerClass\r\n        this.embedContainerId = options.embedContainerId\r\n        this.buttonId = options.buttonId\r\n        this.payButtons = options.payButtons\r\n        this.popup\r\n\r\n\t\tthis.injectStyle()\r\n\r\n        if(options.payButtons && options.payButtonsStyle) this.injectButtonStyle()\r\n\r\n\t\tif (options.type === 'modal' || options.type === 'embed') {\r\n\t\t\tthis.widgetType = options.type\r\n        }\r\n        \r\n        // this.userOnboardSuccessCallback = null\r\n\t\t// this.onExit = null\r\n\t\t// this.userOnboardDeclinedCallback = null\r\n    }\r\n\r\n    init() {\r\n\t\tthis.setupEvents()\r\n        \r\n        if (this.widgetType === 'embed' \r\n            && this.embedContainerId !== '') this.initEmbed(this.embedContainerId)\r\n\r\n        if (this.widgetType === 'modal') this.initModal()\r\n        \r\n        if(this.payButtons) this.initButtons()\r\n\r\n        return this\r\n    }\r\n\ton(type, callback) {\r\n        switch(type){\r\n            case 'ready':\r\n                this.onReady = callback\r\n            break\r\n            case 'close':\r\n                this.onExit = callback\r\n            break\r\n\r\n            default:\r\n                throw new SwapWidgetError('\"'+type+'\" event do not exists');\r\n\r\n        }\r\n\r\n        return this\r\n\t}\r\n// private methods\r\n    injectStyle() {\r\n\t\tlet styleSheet = document.createElement('style')\r\n\t\tstyleSheet.type = 'text/css'\r\n\t\tstyleSheet.innerText = globalStyles\r\n\t\tdocument.head.appendChild(styleSheet)\r\n    }\r\n    injectButtonStyle() {\r\n\t\tlet styleSheet = document.createElement('style')\r\n\t\tstyleSheet.type = 'text/css'\r\n\t\tstyleSheet.innerText = buttonStyle\r\n        document.head.appendChild(styleSheet)\r\n    }\r\n    injectNoCookiesStyle(id) {\r\n\t\tlet styleSheet = document.createElement('style')\r\n\t\tstyleSheet.type = 'text/css'\r\n\t\tstyleSheet.innerText = noCookiesStyle(id)\r\n        document.head.appendChild(styleSheet)\r\n    }\r\n//Modal\r\n\tinitModal() {\r\n\t\tdocument.addEventListener('click', e => this.modalEvents(this, e))\r\n    }\r\n    closeModalEvents() {\r\n        document.removeEventListener('click', e => this.modalEvents(this, e))\r\n    }\r\n    modalEvents(self, event) {\r\n        let element = event.target\r\n\r\n        if ( (element.tagName === 'BUTTON' || element.tagName === 'SPAN')\r\n        && element.attributes.id ) {\r\n\r\n            if (element.attributes.id.value === self.buttonId \r\n                && !self.widgetStarted) {\r\n                    self.checkIframeCookie((status) => {\r\n                        return status ? self.openModal() : self.openPopup()\r\n                    })\r\n            }\r\n        }\r\n    }\r\n    openModal() {\r\n\t\tif (this.widgetStarted) return\r\n\r\n\t\tthis.iframe = this.initIframe()\r\n\t\tthis.iframe.setAttribute('style', iframeStyle)\r\n\r\n        this.widgetStarted = true\r\n\t\tdocument.body.appendChild(this.iframe)\r\n    }\r\n    openPopup(){\r\n        const popupWidth = 400\r\n        const popupHeight = 550\r\n\r\n        let src = `${this.base_url}?type=${this.widgetType}`\r\n        \r\n\t\tif (this.config?.email) src = `${src}&email=${this.config.email}`\r\n        src = `${src}&email_editable=${this.config?.email_editable || 'true'}`\r\n        \r\n\t\tif (this.config?.currency) src = `${src}&currency=${this.config.currency}`\r\n\t\tif (this.config?.amount) src = `${src}&amount=${this.config.amount}`\r\n\t\tif (this.config?.amount_currency) src = `${src}&amount_currency=${this.config.amount_currency}`\r\n\t\tsrc = `${src}&amount_editable=${this.config?.amount_editable || 'true'}`\r\n\t\tif (this.config?.delivery_address) src = `${src}&delivery_address=${this.config.delivery_address}`\r\n\t\tif (this.config?.payment_type) src = `${src}&payment_type=${this.config.payment_type}`\r\n\t\tif (this.config?.order_type) src = `${src}&order_type=${this.config.order_type}`\r\n\t\tif (this.config?.broker_address) src = `${src}&broker_address=${this.config.broker_address}`\r\n\r\n\r\n        // Fixes dual-screen position                             Most browsers      Firefox\r\n        const dualScreenLeft = window.screenLeft !==  undefined ? window.screenLeft : window.screenX;\r\n        const dualScreenTop = window.screenTop !==  undefined   ? window.screenTop  : window.screenY;\r\n\r\n        const width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width\r\n        const height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height\r\n\r\n        const systemZoom = width / window.screen.availWidth\r\n        const left = (width - popupWidth) / 2 / systemZoom + dualScreenLeft\r\n        const top = (height - popupHeight) / 2 / systemZoom + dualScreenTop\r\n\r\n        const opts = `\r\n            directories=0,titlebar=0,toolbar=0,location=0,status=0,menubar=0,scrollbars=no,resizable=no,\r\n            width=${popupWidth / systemZoom}, \r\n            height=${popupHeight / systemZoom}, \r\n            top=${top}, \r\n            left=${left}\r\n        `\r\n\r\n        this.popup = window.open(src, 'Savitar Swap', opts)\r\n        if (window.focus) this.popup.focus()\r\n    }\r\n    initIframe() {\r\n        let src = `${this.base_url}?type=${this.widgetType}`\r\n        \r\n\t\tif (this.config?.email) src = `${src}&email=${this.config.email}`\r\n        src = `${src}&email_editable=${this.config?.email_editable || 'true'}`\r\n        \r\n\t\tif (this.config?.currency) src = `${src}&currency=${this.config.currency}`\r\n\t\tif (this.config?.amount) src = `${src}&amount=${this.config.amount}`\r\n\t\tif (this.config?.amount_currency) src = `${src}&amount_currency=${this.config.amount_currency}`\r\n\t\tsrc = `${src}&amount_editable=${this.config?.amount_editable || 'true'}`\r\n\t\tif (this.config?.delivery_address) src = `${src}&delivery_address=${this.config.delivery_address}`\r\n\t\tif (this.config?.payment_type) src = `${src}&payment_type=${this.config.payment_type}`\r\n\t\tif (this.config?.order_type) src = `${src}&order_type=${this.config.order_type}`\r\n\t\tif (this.config?.broker_address) src = `${src}&broker_address=${this.config.broker_address}`\r\n        \r\n\t\tthis.iframe.setAttribute('src', src)\r\n\t\tthis.iframe.setAttribute('id', this.iframeContainerClass)\r\n\t\tthis.iframe.setAttribute('allowtransparency', 'true')\r\n\t\tthis.iframe.setAttribute('frameborder', 'none')\r\n\t\tthis.iframe.setAttribute('border', '0')\r\n        this.iframe.setAttribute('resize', 'none')\r\n        \r\n\t\treturn this.iframe\r\n    }  \r\n    _noCookiesDisclaimer(id, container) {\r\n        const rand = Math.round(Math.random()*100)\r\n        document.addEventListener('click', e => this.noCookiesEvents(this, e, rand))\r\n\r\n        this.injectNoCookiesStyle(id)\r\n        let titleSpan = document.createElement('span')\r\n        let title = document.createTextNode(LOCALES[this.locale].cookies_not_enabled)\r\n        titleSpan.appendChild(title)\r\n\r\n\r\n        let buttonContainer = document.createElement('div')\r\n        let button = document.createElement('button')\r\n        button.innerHTML = LOCALES[this.locale].continue\r\n        button.className = 'swap-open'\r\n\r\n        button.id = 'nocookies-'+rand\r\n\r\n        buttonContainer.appendChild(button)\r\n\r\n        container.appendChild(titleSpan)\r\n        container.appendChild(buttonContainer)\r\n\t}  \r\n\tinitEmbed(id) {\r\n        let embedContainer = document.getElementById(id)\r\n            \r\n        if (embedContainer === null) throw new SwapWidgetError('#'+id+' container not found')\r\n\r\n        this.checkIframeCookie(status => {\r\n            if(!status) return this._noCookiesDisclaimer(id, embedContainer)\r\n            this.iframe = this.initIframe()\r\n  \r\n            this.widgetStarted = true\r\n            this.iframe.setAttribute('class', this.iframeContainerClass)\r\n            embedContainer.appendChild(this.iframe)\r\n        })\r\n\r\n\t}\r\n// Buttons\r\n    initButtons(){\r\n        document.addEventListener('click', e => this.buttonsEvents(this, e))\r\n\r\n        const buttons = document.querySelectorAll('button[type=\"svt-btn\"')\r\n\r\n        buttons.forEach(e => {\r\n            if(e.innerText.length === 0) {\r\n                const amount = e.getAttribute('svt-amount')\r\n                const currency = e.getAttribute('svt-currency')\r\n                const payment_type = e.getAttribute('svt-payment-type')\r\n                const order_type = e.getAttribute('svt-order-type') || 'buy'\r\n                const amount_currency = e.getAttribute('svt-amount-currency') || 'eur'\r\n\r\n                let text\r\n                \r\n                text = payment_type === 'merchant' ? LOCALES[this.locale].pay+' ' : LOCALES[this.locale].buy+' '\r\n                text = order_type === 'sell' ? 'Sell ' : text\r\n\r\n                const currencyUnit = amount_currency === 'eur' ? '€' : currency.toUpperCase()\r\n                if(amount) text += amount+' '+currencyUnit+' '\r\n\r\n                const amountUnit = amount_currency !== 'eur' ? 'EUR' : currency.toUpperCase()\r\n                if(currency) text += (amount ? LOCALES[this.locale].in+' ' : '')+amountUnit\r\n\r\n                e.textContent = text ? text : LOCALES[this.locale].pay_now\r\n            }\r\n        })\r\n    }\r\n    closeButtonsEvents(){\r\n        document.removeEventListener('click', e => this.buttonsEvents(this, e))\r\n    }\r\n    noCookiesEvents(self, event, rand) {\r\n        let element = event.target\r\n        \r\n        if ( element.tagName !== 'BUTTON') return\r\n        if ( element.attributes.id.value !== 'nocookies-'+rand) return\r\n\r\n        self.openPopup()\r\n    }\r\n    buttonsEvents(self, event) {\r\n        let element = event.target\r\n        \r\n        if ( (element.tagName === 'BUTTON' || element.tagName === 'SAVITAR') ) {\r\n            if( element.attributes?.type?.value !== 'svt-btn' ) return\r\n\r\n            const email = element.getAttribute('svt-email')\r\n            const email_editable = element.getAttribute('svt-email-editable') === 'true'\r\n            const amount = element.getAttribute('svt-amount')\r\n            const amount_editable = element.getAttribute('svt-amount-editable') === 'true'\r\n            const amount_currency = element.getAttribute('svt-amount-currency')\r\n            const currency = element.getAttribute('svt-currency')\r\n            const delivery_address = element.getAttribute('svt-delivery-address')\r\n            const payment_type = element.getAttribute('svt-payment-type')\r\n            const order_type = element.getAttribute('svt-order-type')\r\n            const broker_address = element.getAttribute('svt-broker-address')\r\n\r\n            if (!self.widgetStarted) {\r\n                if(amount) this.config.amount = amount\r\n                if(amount_editable) this.config.amount_editable = amount_editable                \r\n                if(amount_currency) this.config.amount_currency = amount_currency                \r\n                if(email) this.config.email = email\r\n                if(email_editable) this.config.email_editable = email_editable\r\n                if(currency) this.config.currency = currency\r\n                if(delivery_address) this.config.delivery_address = delivery_address\r\n                if(payment_type) this.config.payment_type = payment_type\r\n                if(order_type) this.config.order_type = order_type\r\n                if(broker_address) this.config.broker_address = broker_address\r\n\r\n                self.openPopup()\r\n            }\r\n        }\r\n    }\r\n    callbacksListeners(self, e){\r\n        if(e.data.action === undefined) return\r\n\r\n        switch(e.data.action){\r\n            case 'ready':\r\n                if (typeof self.onReady === 'function') self.onReady()\r\n            break\r\n            case 'close':\r\n                if (self.widgetType === 'modal') {\r\n\r\n                    self.resetFrame()\r\n                    self.closeModalEvents()\r\n                    self.closeEvents()\r\n                }\r\n                if (typeof self.onExit === 'function') self.onExit()\r\n            break\r\n\r\n            case 'exited':\r\n            break\r\n\r\n            default:\r\n                throw new SwapWidgetError(' \"'+e.data.action+'\" action not handled.')\r\n        }\r\n    }\r\n    setupEvents() {\r\n\t\twindow.addEventListener('message', e => this.callbacksListeners(this, e))\r\n    }\r\n    closeEvents() {\r\n        window.removeEventListener('message', e => this.callbacksListeners(this, e))\r\n    }\r\n\tresetFrame() {\r\n        this.config = {...this.default_config}\r\n\t\tthis.iframe.setAttribute('src', '#')\r\n        this.iframe.setAttribute('style', 'display:none')\r\n        \r\n\t\tthis.widgetStarted = false\r\n        document.body.appendChild(this.iframe)\r\n    }\r\n    checkIframeCookie(callback) {\r\n        const receiveMessage = (event) => {\r\n          if (event.origin !== process.env.API_HOST) return\r\n          if (event.data === \"iframecookie=true\") {\r\n            callback(true)\r\n            ifrm.remove()\r\n          } else if (event.data === \"iframecookie=false\") {\r\n            callback(false)\r\n            ifrm.remove()\r\n          }\r\n          window.removeEventListener(\"message\", receiveMessage)\r\n        }\r\n\r\n        window.addEventListener(\"message\", receiveMessage, false)\r\n        const ifrm = document.createElement('iframe')\r\n        ifrm.setAttribute(\"src\", process.env.API_URL+\"/checkcookie\")\r\n        ifrm.setAttribute(\"frameBorder\", \"0\")\r\n        ifrm.style.width = \"1px\"\r\n        ifrm.style.height = \"1px\"\r\n\r\n        document.body.appendChild(ifrm)\r\n    }\r\n    setLocale(locale){\r\n        this.locale = locale\r\n    }\r\n}\r\n\r\nlet iframeStyle = `\r\n    z-index: 1000;\r\n    overflow: hidden auto;\r\n    visibility: visible;\r\n    position: fixed;\r\n    background-color: rgba(0,0,0,0.3);\r\n    border-color: transparent;\r\n    border-width: 0;\r\n    border-style: none;\r\n    width: 100%;\r\n    height: 100%;\r\n    left: 0;\r\n    top: 0;\r\n    -webkit-tap-highlight-color: transparent;\r\n`\r\n\r\nconst blue_1 = '#0d4d9a'\r\n\r\nconst globalStyles = `\r\n    @import url(https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;1,400&display=swap\");\r\n\r\n    .swap-open {\r\n        font-family: Roboto, sans-serif;\r\n\r\n        background-color: ${blue_1};\r\n        border-radius: 20px;\r\n        display: inline-block;\r\n        font-weight: 400;\r\n        color: #ffffff;\r\n\r\n        text-align: center;\r\n        vertical-align: middle;\r\n        -webkit-user-select: none;\r\n        -moz-user-select: none;\r\n        -ms-user-select: none;\r\n        user-select: none;\r\n        border: 1px solid transparent;\r\n        padding: .375rem .75rem;\r\n        font-size: 1rem;\r\n        line-height: 1.5;\r\n        border-radius: .25rem;\r\n        transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;\r\n    }\r\n    .swap-open:hover {\r\n        -webkit-transition: background-color .25s ease-in-out;\r\n        transition: background-color .25s ease-in-out;\r\n        background-color: #0f59b2;\r\n    }\r\n\r\n    .swap-widget-container {\r\n        min-width: 540px;\r\n        width: 100%;\r\n        min-height: 480px;\r\n        height: 100%;\r\n        border-color: transparent;\r\n        border-width: 0;\r\n        border-style: none;\r\n        left: 0;\r\n        top: 0;\r\n        -webkit-tap-highlight-color: transparent\r\n    }\r\n\r\n`\r\n\r\nconst buttonStyle = `    \r\n    button[type='svt-btn']{\r\n        font-family: Roboto, sans-serif;\r\n\r\n        background-color: ${blue_1};\r\n        border-radius: 20px;\r\n        display: inline-block;\r\n        font-weight: 400;\r\n        color: #ffffff;\r\n\r\n        margin: 5px;\r\n\r\n        text-align: center;\r\n        vertical-align: middle;\r\n        -webkit-user-select: none;\r\n        -moz-user-select: none;\r\n        -ms-user-select: none;\r\n        user-select: none;\r\n        border: 1px solid transparent;\r\n        padding: .375rem .75rem;\r\n        font-size: 1rem;\r\n        line-height: 1.5;\r\n        border-radius: .25rem;\r\n        transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;\r\n    }\r\n\r\n    button[type='svt-btn']:hover {\r\n        -webkit-transition: background-color .25s ease-in-out;\r\n        transition: background-color .25s ease-in-out;\r\n        background-color: #0f59b2;\r\n    }\r\n\r\n`\r\n\r\nconst noCookiesStyle = (id) => {\r\n    return  `   \r\n    #${id} {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n    #${id} > span {\r\n    } \r\n\r\n`\r\n}\r\nclass SwapWidgetError extends Error {\r\n    constructor(...params) {\r\n      super(...params)\r\n  \r\n      if(Error.captureStackTrace) Error.captureStackTrace(this, SwapWidgetError)\r\n\r\n      this.name = 'SwapWidgetError'\r\n    }\r\n}"],"sourceRoot":""}